<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TP3</title>
</head>


<body>
<canvas id="myCanvas" width="500" height="200"/>

</body>

<script>
    window.addEventListener('load', (event) => {

        const mycanvas = document.getElementById("myCanvas");
        let context = mycanvas.getContext("2d");

        let interval1 = setInterval(init_canvas, 2000);

        let x = 10;

        function init_canvas() {
            clearInterval(interval1);
            context.fillStyle = 'red';
            context.fillRect(x, 10, 100, 100);
            interval2 = setInterval(dessiner, 100);
        }

        function dessiner() {
            if (x < 400) {
                context.clearRect(x, 10, 100, 100);
                x += 10;
                context.fillRect(x, 10, 100, 100);
            } else {
                clearInterval(interval);
            }
        }
    });


</script>

</html>